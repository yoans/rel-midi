{"ast":null,"code":"var _jsxFileName = \"C:\\\\bench\\\\rel-midi\\\\src\\\\components\\\\Keyboard.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Keyboard = ({\n  activeNotes,\n  onNoteOn,\n  onNoteOff,\n  currentNote\n}) => {\n  const startNote = 48; // C3\n  const endNote = 84; // C6\n  const keys = [];\n  const isBlackKey = note => {\n    const n = note % 12;\n    return n === 1 || n === 3 || n === 6 || n === 8 || n === 10;\n  };\n\n  // Map relative keys to their intervals\n  const keyIntervals = {\n    'a': -4,\n    's': -3,\n    'd': -2,\n    'f': -1,\n    '_': 0,\n    'j': 1,\n    'k': 2,\n    'l': 3,\n    ';': 4\n  };\n\n  // Create a reverse map: note -> label(s)\n  const overlayMap = {};\n  if (currentNote !== undefined) {\n    Object.entries(keyIntervals).forEach(([label, interval]) => {\n      const targetNote = currentNote + interval;\n      if (!overlayMap[targetNote]) {\n        overlayMap[targetNote] = [];\n      }\n      overlayMap[targetNote].push(label.toUpperCase());\n    });\n  }\n  for (let i = startNote; i <= endNote; i++) {\n    keys.push({\n      note: i,\n      isBlack: isBlackKey(i),\n      label: i % 12 === 0 ? `C${Math.floor(i / 12) - 1}` : null,\n      overlays: overlayMap[i] || []\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"keyboard-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"keyboard\",\n      children: keys.map(key => {\n        const isActive = activeNotes.includes(key.note);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `key ${key.isBlack ? 'black-key' : 'white-key'} ${isActive ? 'active' : ''}`,\n          onMouseDown: () => onNoteOn(key.note),\n          onMouseUp: () => onNoteOff(key.note),\n          onMouseLeave: () => isActive && onNoteOff(key.note),\n          onTouchStart: e => {\n            e.preventDefault();\n            onNoteOn(key.note);\n          },\n          onTouchEnd: e => {\n            e.preventDefault();\n            onNoteOff(key.note);\n          },\n          children: [key.overlays.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"key-overlays\",\n            children: key.overlays.map(ov => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overlay-label\",\n              children: ov\n            }, ov, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 61\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this), key.label && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"note-label\",\n            children: key.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 43\n          }, this)]\n        }, key.note, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_c = Keyboard;\nexport default Keyboard;\nvar _c;\n$RefreshReg$(_c, \"Keyboard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Keyboard","activeNotes","onNoteOn","onNoteOff","currentNote","startNote","endNote","keys","isBlackKey","note","n","keyIntervals","overlayMap","undefined","Object","entries","forEach","label","interval","targetNote","push","toUpperCase","i","isBlack","Math","floor","overlays","className","children","map","key","isActive","includes","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","e","preventDefault","onTouchEnd","length","ov","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/bench/rel-midi/src/components/Keyboard.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Keyboard = ({ activeNotes, onNoteOn, onNoteOff, currentNote }) => {\r\n    const startNote = 48; // C3\r\n    const endNote = 84; // C6\r\n    const keys = [];\r\n\r\n    const isBlackKey = (note) => {\r\n        const n = note % 12;\r\n        return n === 1 || n === 3 || n === 6 || n === 8 || n === 10;\r\n    };\r\n\r\n    // Map relative keys to their intervals\r\n    const keyIntervals = {\r\n        'a': -4, 's': -3, 'd': -2, 'f': -1,\r\n        '_': 0,\r\n        'j': 1, 'k': 2, 'l': 3, ';': 4\r\n    };\r\n\r\n    // Create a reverse map: note -> label(s)\r\n    const overlayMap = {};\r\n    if (currentNote !== undefined) {\r\n        Object.entries(keyIntervals).forEach(([label, interval]) => {\r\n            const targetNote = currentNote + interval;\r\n            if (!overlayMap[targetNote]) {\r\n                overlayMap[targetNote] = [];\r\n            }\r\n            overlayMap[targetNote].push(label.toUpperCase());\r\n        });\r\n    }\r\n\r\n    for (let i = startNote; i <= endNote; i++) {\r\n        keys.push({\r\n            note: i,\r\n            isBlack: isBlackKey(i),\r\n            label: i % 12 === 0 ? `C${Math.floor(i / 12) - 1}` : null,\r\n            overlays: overlayMap[i] || []\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"keyboard-container\">\r\n            <div className=\"keyboard\">\r\n                {keys.map((key) => {\r\n                    const isActive = activeNotes.includes(key.note);\r\n                    return (\r\n                        <div\r\n                            key={key.note}\r\n                            className={`key ${key.isBlack ? 'black-key' : 'white-key'} ${isActive ? 'active' : ''}`}\r\n                            onMouseDown={() => onNoteOn(key.note)}\r\n                            onMouseUp={() => onNoteOff(key.note)}\r\n                            onMouseLeave={() => isActive && onNoteOff(key.note)}\r\n                            onTouchStart={(e) => { e.preventDefault(); onNoteOn(key.note); }}\r\n                            onTouchEnd={(e) => { e.preventDefault(); onNoteOff(key.note); }}\r\n                        >\r\n                            {key.overlays.length > 0 && (\r\n                                <div className=\"key-overlays\">\r\n                                    {key.overlays.map(ov => <div key={ov} className=\"overlay-label\">{ov}</div>)}\r\n                                </div>\r\n                            )}\r\n                            {key.label && <span className=\"note-label\">{key.label}</span>}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Keyboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}